<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:49,&quot;tests&quot;:92,&quot;passes&quot;:92,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2021-03-25T13:29:52.349Z&quot;,&quot;end&quot;:&quot;2021-03-25T13:29:53.516Z&quot;,&quot;duration&quot;:1167,&quot;testsRegistered&quot;:92,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;0492b360-46e3-4b89-a4a8-58a380a0816f&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;92feb3fb-ace0-4669-898a-d58d55ebef89&quot;,&quot;title&quot;:&quot;#formatComplaintData&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;89529f71-5bee-4583-8739-60895fdb4e8e&quot;,&quot;title&quot;:&quot;reason&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;273c3eae-c21c-4ce0-908a-ac5930a10f48&quot;,&quot;title&quot;:&quot;immigration-application&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;SUBMITTING_APPLICATION\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason immigration-application returns complaint data with type \&quot;SUBMITTING_APPLICATION\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;immigration-application&#x27;,\n  &#x27;immigration-application&#x27;: &#x27;technical-issues&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;SUBMITTING_APPLICATION&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51781735-41c3-4f86-91ab-d983881d1806&quot;,&quot;parentUUID&quot;:&quot;273c3eae-c21c-4ce0-908a-ac5930a10f48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;51781735-41c3-4f86-91ab-d983881d1806&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;052242da-b669-4e8d-ade1-29353437e1bf&quot;,&quot;title&quot;:&quot;immigration-appointment&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;MAKING_APPOINTMENT\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason immigration-appointment returns complaint data with type \&quot;MAKING_APPOINTMENT\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;immigration-appointment&#x27;,\n  &#x27;immigration-appointment&#x27;: &#x27;lack-availability&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;MAKING_APPOINTMENT&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62d23477-fe6c-46fd-895b-a132b4f3599c&quot;,&quot;parentUUID&quot;:&quot;052242da-b669-4e8d-ade1-29353437e1bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;62d23477-fe6c-46fd-895b-a132b4f3599c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2b74006c-a579-4612-bb58-601ddfeb7ef2&quot;,&quot;title&quot;:&quot;delays&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;DELAYS\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason delays returns complaint data with type \&quot;DELAYS\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;delays&#x27;,\n  &#x27;delay-type&#x27;: &#x27;application-delay&#x27;,\n  &#x27;return-of-documents&#x27;: &#x27;yes-other&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;DELAYS&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba26e918-f383-4b68-aff3-93c050ab4f17&quot;,&quot;parentUUID&quot;:&quot;2b74006c-a579-4612-bb58-601ddfeb7ef2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ba26e918-f383-4b68-aff3-93c050ab4f17&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2cbeae1f-4303-4e7e-8112-f3851160169b&quot;,&quot;title&quot;:&quot;biometric-residence-permit&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;BIOMETRIC_RESIDENCE_PERMIT\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason biometric-residence-permit returns complaint data with type \&quot;BIOMETRIC_RESIDENCE_PERMIT\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;biometric-residence-permit&#x27;,\n  &#x27;biometric-residence-permit&#x27;: &#x27;card-incorrect&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;BIOMETRIC_RESIDENCE_PERMIT&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ab7a8df-a3e3-4989-978f-1bca7e007d43&quot;,&quot;parentUUID&quot;:&quot;2cbeae1f-4303-4e7e-8112-f3851160169b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6ab7a8df-a3e3-4989-978f-1bca7e007d43&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2ab88265-4f15-453e-9336-40670b3f21b8&quot;,&quot;title&quot;:&quot;immigration-decision&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;IMMIGRATION_DECISION\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason immigration-decision returns complaint data with type \&quot;IMMIGRATION_DECISION\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;immigration-decision&#x27;,\n  &#x27;decision-outcome&#x27;: &#x27;negative&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;IMMIGRATION_DECISION&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c26b009f-fffa-468b-a373-40c68c1b5603&quot;,&quot;parentUUID&quot;:&quot;2ab88265-4f15-453e-9336-40670b3f21b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c26b009f-fffa-468b-a373-40c68c1b5603&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;59d613ad-d1f8-4405-8e06-ac3049cf4d34&quot;,&quot;title&quot;:&quot;refund&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;REFUND\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason refund returns complaint data with type \&quot;REFUND\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;refund&#x27;,\n  refund: &#x27;no&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;REFUND&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86be0e61-7326-4740-bc85-6e64a8b5eb6e&quot;,&quot;parentUUID&quot;:&quot;59d613ad-d1f8-4405-8e06-ac3049cf4d34&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;86be0e61-7326-4740-bc85-6e64a8b5eb6e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fd873aeb-76e8-4e5b-be56-52e2329ace5b&quot;,&quot;title&quot;:&quot;staff-behaviour&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;82dd9d6b-db30-4b0e-847a-0819bbb7fc46&quot;,&quot;title&quot;:&quot;poor-information&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;POOR_INFORMATION\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason staff-behaviour poor-information returns complaint data with type \&quot;POOR_INFORMATION\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;staff-behaviour&#x27;,\n  &#x27;poor-info-or-behaviour&#x27;: &#x27;poor-information&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;POOR_INFORMATION&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;904f6f6e-42f8-46d2-a8e3-b3ba70d2f355&quot;,&quot;parentUUID&quot;:&quot;82dd9d6b-db30-4b0e-847a-0819bbb7fc46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;904f6f6e-42f8-46d2-a8e3-b3ba70d2f355&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;102cfb30-dcf3-42ae-be57-79be21c04479&quot;,&quot;title&quot;:&quot;staff-behaviour&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;POOR_STAFF_BEHAVIOUR\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason staff-behaviour staff-behaviour returns complaint data with type \&quot;POOR_STAFF_BEHAVIOUR\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;staff-behaviour&#x27;,\n  &#x27;poor-info-or-behaviour&#x27;: &#x27;staff-behaviour&#x27;,\n  &#x27;staff-behaviour&#x27;: &#x27;in-letter&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;POOR_STAFF_BEHAVIOUR&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47d8b268-6fd7-4c87-8e06-70b7a813c176&quot;,&quot;parentUUID&quot;:&quot;102cfb30-dcf3-42ae-be57-79be21c04479&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;47d8b268-6fd7-4c87-8e06-70b7a813c176&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4d3862d6-e79f-47e9-966c-9178c989b0ae&quot;,&quot;title&quot;:&quot;invalid value&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;throws an error if an invalid poor-info-or-behaviour value is provided&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason staff-behaviour invalid value throws an error if an invalid poor-info-or-behaviour value is provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;staff-behaviour&#x27;,\n  &#x27;poor-info-or-behaviour&#x27;: &#x27;invalid&#x27;,\n}, complaintDetailsBase);\nexpect(() =&gt; formatComplaintData(values)).to.throw(&#x27;Invalid poor-info-or-behaviour value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;029e6fb8-877d-45a6-b466-724bb6b9404b&quot;,&quot;parentUUID&quot;:&quot;4d3862d6-e79f-47e9-966c-9178c989b0ae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;029e6fb8-877d-45a6-b466-724bb6b9404b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c839014c-bd2e-4814-a794-15164e8fc5f8&quot;,&quot;title&quot;:&quot;existing-complaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;EXISTING\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason existing-complaint returns complaint data with type \&quot;EXISTING\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;existing-complaint&#x27;,\n  &#x27;existing-complaint&#x27;: &#x27;yes&#x27;,\n  &#x27;complaint-reference-number&#x27;: &#x27;ghjkld&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;EXISTING&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a249170-79e2-4b44-a844-49b9c7b79b06&quot;,&quot;parentUUID&quot;:&quot;c839014c-bd2e-4814-a794-15164e8fc5f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4a249170-79e2-4b44-a844-49b9c7b79b06&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4c315467-0173-4535-872b-f46624c69f5d&quot;,&quot;title&quot;:&quot;other-complaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint data with type \&quot;SOMETHING_ELSE\&quot;&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason other-complaint returns complaint data with type \&quot;SOMETHING_ELSE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;other-complaint&#x27;,\n}, complaintDetailsBase);\nconst complaintData = formatComplaintData(values);\nexpect(complaintData.complaint.complaintType).to.eql(&#x27;SOMETHING_ELSE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ce999f9-2627-42be-9bae-95cb1b50c934&quot;,&quot;parentUUID&quot;:&quot;4c315467-0173-4535-872b-f46624c69f5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ce999f9-2627-42be-9bae-95cb1b50c934&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;aef42d21-918c-40e9-8649-0ce090e5c50d&quot;,&quot;title&quot;:&quot;invalid reason&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/format-complaint-data.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;throws an error if an invalid reason is provided&quot;,&quot;fullTitle&quot;:&quot;#formatComplaintData reason invalid reason throws an error if an invalid reason is provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  reason: &#x27;invalid&#x27;,\n}, complaintDetailsBase);\nexpect(() =&gt; formatComplaintData(values)).to.throw(&#x27;Complaint reason not recognized&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5ec5d91-8ab1-498b-af1c-50064f0bb1a8&quot;,&quot;parentUUID&quot;:&quot;aef42d21-918c-40e9-8649-0ce090e5c50d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5ec5d91-8ab1-498b-af1c-50064f0bb1a8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fa4c3929-8e32-4124-ae07-1ad55cefa715&quot;,&quot;title&quot;:&quot;BrpComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/brp.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/brp.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;dbabd962-8575-4e41-bbb9-36588f7a8cb6&quot;,&quot;title&quot;:&quot;problemExperienced&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/brp.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/brp.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;CARD_INCORRECT\&quot; if \&quot;card-incorrect\&quot; value passed in&quot;,&quot;fullTitle&quot;:&quot;BrpComplaint problemExperienced returns \&quot;CARD_INCORRECT\&quot; if \&quot;card-incorrect\&quot; value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;biometric-residence-permit&#x27;: &#x27;card-incorrect&#x27;\n}, complaintDetailsBase);\nconst brpComplaint = new BrpComplaint(values);\nexpect(brpComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced).to.eql(&#x27;CARD_INCORRECT&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66021af3-2269-4a36-a8c9-bad4ddb956ee&quot;,&quot;parentUUID&quot;:&quot;dbabd962-8575-4e41-bbb9-36588f7a8cb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;CARD_NOT_ARRIVED\&quot; if \&quot;card-not-arrived\&quot; value passed in&quot;,&quot;fullTitle&quot;:&quot;BrpComplaint problemExperienced returns \&quot;CARD_NOT_ARRIVED\&quot; if \&quot;card-not-arrived\&quot; value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;biometric-residence-permit&#x27;: &#x27;card-not-arrived&#x27;\n}, complaintDetailsBase);\nconst brpComplaint = new BrpComplaint(values);\nexpect(brpComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced).to.eql(&#x27;CARD_NOT_ARRIVED&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;605d33d8-440f-42f6-94d9-d47d87812509&quot;,&quot;parentUUID&quot;:&quot;dbabd962-8575-4e41-bbb9-36588f7a8cb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;COMPLAIN_BRP\&quot; if \&quot;complain-brp\&quot; value passed in&quot;,&quot;fullTitle&quot;:&quot;BrpComplaint problemExperienced returns \&quot;COMPLAIN_BRP\&quot; if \&quot;complain-brp\&quot; value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;biometric-residence-permit&#x27;: &#x27;complain-brp&#x27;\n}, complaintDetailsBase);\nconst brpComplaint = new BrpComplaint(values);\nexpect(brpComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced).to.eql(&#x27;COMPLAIN_BRP&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;268b9412-4d19-416c-8eae-7432e0aefd8b&quot;,&quot;parentUUID&quot;:&quot;dbabd962-8575-4e41-bbb9-36588f7a8cb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid biometric-residence-permit is passed&quot;,&quot;fullTitle&quot;:&quot;BrpComplaint problemExperienced throws an error if invalid biometric-residence-permit is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;biometric-residence-permit&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new BrpComplaint(values)).to.throw(&#x27;invalid \&quot;biometric-residence-permit\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c5847d0-8b47-4857-809a-dd8df501f489&quot;,&quot;parentUUID&quot;:&quot;dbabd962-8575-4e41-bbb9-36588f7a8cb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;66021af3-2269-4a36-a8c9-bad4ddb956ee&quot;,&quot;605d33d8-440f-42f6-94d9-d47d87812509&quot;,&quot;268b9412-4d19-416c-8eae-7432e0aefd8b&quot;,&quot;5c5847d0-8b47-4857-809a-dd8df501f489&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5ed89c86-874a-4425-a6bd-bebd2e69e530&quot;,&quot;title&quot;:&quot;Complaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Complaint\&quot;&quot;,&quot;fullTitle&quot;:&quot;Complaint \&quot;before each\&quot; hook in \&quot;Complaint\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const momentStub = sinon.stub().returns({\n      format: () =&gt; (creationDate)\n    });\n    Complaint = proxyquire(&#x27;../../../../apps/ukvi-complaints/lib/json-converters/complaint&#x27;, {\n      &#x27;moment&#x27;: momentStub\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c018fab9-2a9c-4015-80f3-63c6b5b82e04&quot;,&quot;parentUUID&quot;:&quot;5ed89c86-874a-4425-a6bd-bebd2e69e530&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should have property complaintAttributes which is an object&quot;,&quot;fullTitle&quot;:&quot;Complaint Should have property complaintAttributes which is an object&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;complaint = new Complaint(applicantTestValues);\nexpect(complaint.complaintAttributes).to.be.an(&#x27;object&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74ee1612-d5d3-447d-9dee-8c47657ae9c2&quot;,&quot;parentUUID&quot;:&quot;5ed89c86-874a-4425-a6bd-bebd2e69e530&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;23a0078f-2a1a-4559-a088-760744433772&quot;,&quot;title&quot;:&quot;complaintAttributes&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should have creationDate set&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes Should have creationDate set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;complaint = new Complaint(applicantTestValues);\nexpect(complaint.complaintAttributes.creationDate).to.eql(creationDate);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad980dff-c124-4fa7-9237-d945d405bdf9&quot;,&quot;parentUUID&quot;:&quot;23a0078f-2a1a-4559-a088-760744433772&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4ed4faa1-5a21-4984-9a65-7fe5f7862b84&quot;,&quot;title&quot;:&quot;reporterDetails&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;32c1e248-67a0-4e45-bc2f-0882855b77e3&quot;,&quot;title&quot;:&quot;applicant&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;applicant\&quot;&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails applicant \&quot;before each\&quot; hook in \&quot;applicant\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reporterDetailsValues = Object.assign({}, applicantTestValues);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3632c34-3653-46f2-881c-11e89f159eff&quot;,&quot;parentUUID&quot;:&quot;32c1e248-67a0-4e45-bc2f-0882855b77e3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should return applicant details without phone number if not included&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails applicant Should return applicant details without phone number if not included&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;complaint = new Complaint(reporterDetailsValues);\nexpect(complaint.complaintAttributes.complaint.reporterDetails).to.eql({\n  applicantType: applicantTypeApplicant,\n  applicantName: testApplicantName,\n  applicantNationality: testApplicantNationality,\n  applicantDob: testApplicantDob,\n  applicantEmail: testApplicantEmail,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;166f4473-b54b-4ff6-92ec-8a3a10ab04af&quot;,&quot;parentUUID&quot;:&quot;32c1e248-67a0-4e45-bc2f-0882855b77e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return applicant details with phone number if included&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails applicant Should return applicant details with phone number if included&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;reporterDetailsValues[&#x27;applicant-phone&#x27;] = testApplicantPhone;\ncomplaint = new Complaint(reporterDetailsValues);\nexpect(complaint.complaintAttributes.complaint.reporterDetails).to.eql({\n  applicantType: applicantTypeApplicant,\n  applicantName: testApplicantName,\n  applicantNationality: testApplicantNationality,\n  applicantDob: testApplicantDob,\n  applicantEmail: testApplicantEmail,\n  applicantPhone: testApplicantPhone,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb86d6ef-0a77-4d83-a3a4-d6265235b711&quot;,&quot;parentUUID&quot;:&quot;32c1e248-67a0-4e45-bc2f-0882855b77e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;166f4473-b54b-4ff6-92ec-8a3a10ab04af&quot;,&quot;eb86d6ef-0a77-4d83-a3a4-d6265235b711&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;64d0f905-fa73-4678-80dc-e9f60ac28db2&quot;,&quot;title&quot;:&quot;agent&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;agent\&quot;&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails agent \&quot;before each\&quot; hook in \&quot;agent\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;agentValues = Object.assign({}, agentTestValues);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50d7abb1-fcfc-4df7-9dc9-e07999a95116&quot;,&quot;parentUUID&quot;:&quot;64d0f905-fa73-4678-80dc-e9f60ac28db2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;it should return agent and applicant details with agentType RELATIVE&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails agent it should return agent and applicant details with agentType RELATIVE&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;agentValues[&#x27;who-representing&#x27;] = &#x27;relative&#x27;;\ncomplaint = new Complaint(agentValues);\nexpect(complaint.complaintAttributes.complaint.reporterDetails).to.eql({\n  applicantType: applicantTypeAgent,\n  applicantDetails: {\n    applicantName: testApplicantName,\n    applicantNationality: testApplicantNationality,\n    applicantDob: testApplicantDob,\n  },\n  agentDetails: {\n    agentName: testAgentName,\n    agentType: &#x27;RELATIVE&#x27;,\n    agentEmail: testAgentEmail\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b84ae0a7-dd4d-42ad-9098-07a62832eff5&quot;,&quot;parentUUID&quot;:&quot;64d0f905-fa73-4678-80dc-e9f60ac28db2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should return agent and applicant details with agentType LEGAL_REP&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails agent it should return agent and applicant details with agentType LEGAL_REP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;agentValues[&#x27;who-representing&#x27;] = &#x27;legal-rep&#x27;;\ncomplaint = new Complaint(agentValues);\nexpect(complaint.complaintAttributes.complaint.reporterDetails).to.eql({\n  applicantType: applicantTypeAgent,\n  applicantDetails: {\n    applicantName: testApplicantName,\n    applicantNationality: testApplicantNationality,\n    applicantDob: testApplicantDob,\n  },\n  agentDetails: {\n    agentName: testAgentName,\n    agentType: &#x27;LEGAL_REP&#x27;,\n    agentEmail: testAgentEmail\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0c875c1-1160-4879-ad8f-4722b2c0087a&quot;,&quot;parentUUID&quot;:&quot;64d0f905-fa73-4678-80dc-e9f60ac28db2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should return agent and applicant details with agentType SPONSOR&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails agent it should return agent and applicant details with agentType SPONSOR&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;agentValues[&#x27;who-representing&#x27;] = &#x27;sponsor&#x27;;\ncomplaint = new Complaint(agentValues);\nexpect(complaint.complaintAttributes.complaint.reporterDetails).to.eql({\n  applicantType: applicantTypeAgent,\n  applicantDetails: {\n    applicantName: testApplicantName,\n    applicantNationality: testApplicantNationality,\n    applicantDob: testApplicantDob,\n  },\n  agentDetails: {\n    agentName: testAgentName,\n    agentType: &#x27;SPONSOR&#x27;,\n    agentEmail: testAgentEmail\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f7aafdf-5879-46ec-b478-3077a14baf30&quot;,&quot;parentUUID&quot;:&quot;64d0f905-fa73-4678-80dc-e9f60ac28db2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;it should return agent and applicant details with agentType SUPPORT_ORG&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails agent it should return agent and applicant details with agentType SUPPORT_ORG&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;agentValues[&#x27;who-representing&#x27;] = &#x27;support-org&#x27;;\ncomplaint = new Complaint(agentValues);\nexpect(complaint.complaintAttributes.complaint.reporterDetails).to.eql({\n  applicantType: applicantTypeAgent,\n  applicantDetails: {\n    applicantName: testApplicantName,\n    applicantNationality: testApplicantNationality,\n    applicantDob: testApplicantDob,\n  },\n  agentDetails: {\n    agentName: testAgentName,\n    agentType: &#x27;SUPPORT_ORG&#x27;,\n    agentEmail: testAgentEmail\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;033964e5-65ef-46fd-902d-4cc69e2e2c5d&quot;,&quot;parentUUID&quot;:&quot;64d0f905-fa73-4678-80dc-e9f60ac28db2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return agent details with phone number if included&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails agent Should return agent details with phone number if included&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;agentValues[&#x27;agent-phone&#x27;] = testAgentPhone;\nagentValues[&#x27;who-representing&#x27;] = &#x27;relative&#x27;;\ncomplaint = new Complaint(agentValues);\nexpect(complaint.complaintAttributes.complaint.reporterDetails).to.eql({\n  applicantType: applicantTypeAgent,\n  applicantDetails: {\n    applicantName: testApplicantName,\n    applicantNationality: testApplicantNationality,\n    applicantDob: testApplicantDob,\n  },\n  agentDetails: {\n    agentName: testAgentName,\n    agentType: &#x27;RELATIVE&#x27;,\n    agentEmail: testAgentEmail,\n    agentPhone: testAgentPhone,\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99f77e89-382f-44f5-b310-9c14617afb1f&quot;,&quot;parentUUID&quot;:&quot;64d0f905-fa73-4678-80dc-e9f60ac28db2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if incorrect who-representing type specified&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reporterDetails agent should throw error if incorrect who-representing type specified&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;agentValues[&#x27;who-representing&#x27;] = &#x27;error-agent&#x27;;\nexpect(() =&gt; new Complaint(agentValues)).to.throw(&#x27;invalid \&quot;who-representing\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;618490c9-10b3-4777-b5f7-5e06d06589c6&quot;,&quot;parentUUID&quot;:&quot;64d0f905-fa73-4678-80dc-e9f60ac28db2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b84ae0a7-dd4d-42ad-9098-07a62832eff5&quot;,&quot;d0c875c1-1160-4879-ad8f-4722b2c0087a&quot;,&quot;1f7aafdf-5879-46ec-b478-3077a14baf30&quot;,&quot;033964e5-65ef-46fd-902d-4cc69e2e2c5d&quot;,&quot;99f77e89-382f-44f5-b310-9c14617afb1f&quot;,&quot;618490c9-10b3-4777-b5f7-5e06d06589c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;title&quot;:&quot;reference&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;reference\&quot;&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reference \&quot;before each\&quot; hook in \&quot;reference\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;referenceValues = Object.assign({}, applicantTestValues);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bef68ab-067a-4f7a-877d-2b65a3e5e7ec&quot;,&quot;parentUUID&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Does not include a reference if reference-number is not present&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reference Does not include a reference if reference-number is not present&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;complaint = new Complaint(referenceValues);\nexpect(complaint.complaintAttributes.complaint).to.not.have.all.keys(&#x27;reference&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4843fa41-d47b-41f0-9ee1-936cea874124&quot;,&quot;parentUUID&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Does not include a reference if reference-numbers is specified as \&quot;none\&quot;&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reference Does not include a reference if reference-numbers is specified as \&quot;none\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;referenceValues[&#x27;reference-numbers&#x27;] = &#x27;none&#x27;;\ncomplaint = new Complaint(referenceValues);\nexpect(complaint.complaintAttributes.complaint).to.not.have.all.keys(&#x27;reference&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99db14fe-3065-44d5-8964-88dc47d121a1&quot;,&quot;parentUUID&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;If \&quot;gwf\&quot; reference, reference number will be set on GWF_REF&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reference If \&quot;gwf\&quot; reference, reference number will be set on GWF_REF&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;referenceValues[&#x27;reference-numbers&#x27;] = &#x27;gwf&#x27;;\nreferenceValues[&#x27;gwf-reference&#x27;] = testGwfRef;\ncomplaint = new Complaint(referenceValues);\nexpect(complaint.complaintAttributes.complaint.reference).to.eql({\n  referenceType: &#x27;GWF_REF&#x27;,\n  reference: testGwfRef\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68e6a947-3b2f-493c-b3ff-0309e9eda916&quot;,&quot;parentUUID&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;If \&quot;ho\&quot; reference, reference number will be set on HO_REF&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reference If \&quot;ho\&quot; reference, reference number will be set on HO_REF&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;referenceValues[&#x27;reference-numbers&#x27;] = &#x27;ho&#x27;;\nreferenceValues[&#x27;ho-reference&#x27;] = testHoRef;\ncomplaint = new Complaint(referenceValues);\nexpect(complaint.complaintAttributes.complaint.reference).to.eql({\n  referenceType: &#x27;HO_REF&#x27;,\n  reference: testHoRef\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca56c6cd-35ce-4161-a9d2-aef6e414ba61&quot;,&quot;parentUUID&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;If \&quot;ihs\&quot; reference, reference number will be set on IHS_REF&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reference If \&quot;ihs\&quot; reference, reference number will be set on IHS_REF&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;referenceValues[&#x27;reference-numbers&#x27;] = &#x27;ihs&#x27;;\nreferenceValues[&#x27;ihs-reference&#x27;] = testIhsRef;\ncomplaint = new Complaint(referenceValues);\nexpect(complaint.complaintAttributes.complaint.reference).to.eql({\n  referenceType: &#x27;IHS_REF&#x27;,\n  reference: testIhsRef\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;685696dc-20f5-427a-adb3-d59d53679e3f&quot;,&quot;parentUUID&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;If \&quot;uan\&quot; reference, reference number will be set on UAN_REF&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reference If \&quot;uan\&quot; reference, reference number will be set on UAN_REF&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;referenceValues[&#x27;reference-numbers&#x27;] = &#x27;uan&#x27;;\nreferenceValues[&#x27;uan-reference&#x27;] = testUanRef;\ncomplaint = new Complaint(referenceValues);\nexpect(complaint.complaintAttributes.complaint.reference).to.eql({\n  referenceType: &#x27;UAN_REF&#x27;,\n  reference: testUanRef\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3401c70-4336-4d61-a4e1-92d594ca1f4f&quot;,&quot;parentUUID&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw error if incorrect ref type specified&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes reference should throw error if incorrect ref type specified&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;referenceValues[&#x27;reference-numbers&#x27;] = &#x27;fff&#x27;;\nexpect(() =&gt; new Complaint(referenceValues)).to.throw(&#x27;invalid \&quot;reference-numbers\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;938779d2-8b56-4871-98c7-b79b26fe857e&quot;,&quot;parentUUID&quot;:&quot;01c32f8b-8ac2-4a0e-9fb6-293cb74734d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4843fa41-d47b-41f0-9ee1-936cea874124&quot;,&quot;99db14fe-3065-44d5-8964-88dc47d121a1&quot;,&quot;68e6a947-3b2f-493c-b3ff-0309e9eda916&quot;,&quot;ca56c6cd-35ce-4161-a9d2-aef6e414ba61&quot;,&quot;685696dc-20f5-427a-adb3-d59d53679e3f&quot;,&quot;f3401c70-4336-4d61-a4e1-92d594ca1f4f&quot;,&quot;938779d2-8b56-4871-98c7-b79b26fe857e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7ece1bcf-685c-4d7c-81f6-6eea47d1c614&quot;,&quot;title&quot;:&quot;complaintDetails&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7ecc27c4-dbb2-48c4-a3c9-10d6695a8165&quot;,&quot;title&quot;:&quot;applicationLocation&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/complaint.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;applicationLocation\&quot;&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes complaintDetails applicationLocation \&quot;before each\&quot; hook in \&quot;applicationLocation\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;applicationLocationValues = Object.assign({}, applicantTestValues);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c034455f-dffa-4dc4-a892-4f7778e5a0f3&quot;,&quot;parentUUID&quot;:&quot;7ecc27c4-dbb2-48c4-a3c9-10d6695a8165&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;If no location provided, applicationLocation is not set&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes complaintDetails applicationLocation If no location provided, applicationLocation is not set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;complaint = new Complaint(applicationLocationValues);\nexpect(complaint.complaintAttributes.complaint.complaintDetails).to.not.have.all.keys(&#x27;applicationLocation&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9912c5e-2d6d-4675-86e0-5f365988abe0&quot;,&quot;parentUUID&quot;:&quot;7ecc27c4-dbb2-48c4-a3c9-10d6695a8165&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;If applied from \&quot;inside-uk\&quot;, applicationLocation set to INSIDE_UK&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes complaintDetails applicationLocation If applied from \&quot;inside-uk\&quot;, applicationLocation set to INSIDE_UK&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;applicationLocationValues[&#x27;where-applied-from&#x27;] = &#x27;inside-uk&#x27;;\ncomplaint = new Complaint(applicationLocationValues);\nexpect(complaint.complaintAttributes.complaint.complaintDetails.applicationLocation).to.eql(&#x27;INSIDE_UK&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ed5f125-6e52-42db-aa0f-ec764f77ae4f&quot;,&quot;parentUUID&quot;:&quot;7ecc27c4-dbb2-48c4-a3c9-10d6695a8165&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;If applied from \&quot;outside-uk\&quot;, applicationLocation set to OUTSIDE_UK&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes complaintDetails applicationLocation If applied from \&quot;outside-uk\&quot;, applicationLocation set to OUTSIDE_UK&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;applicationLocationValues[&#x27;where-applied-from&#x27;] = &#x27;outside-uk&#x27;;\ncomplaint = new Complaint(applicationLocationValues);\nexpect(complaint.complaintAttributes.complaint.complaintDetails.applicationLocation).to.eql(&#x27;OUTSIDE_UK&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cf1fdf9-3b21-4bd1-a392-e98588543157&quot;,&quot;parentUUID&quot;:&quot;7ecc27c4-dbb2-48c4-a3c9-10d6695a8165&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;It throws an error if invalid \&quot;where-applied-from\&quot;&quot;,&quot;fullTitle&quot;:&quot;Complaint complaintAttributes complaintDetails applicationLocation It throws an error if invalid \&quot;where-applied-from\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;applicationLocationValues[&#x27;where-applied-from&#x27;] = &#x27;location&#x27;;\nexpect(() =&gt; new Complaint(applicationLocationValues)).to.throw(&#x27;invalid \&quot;where-applied-from\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;692e1ab0-40ea-4634-a60e-20d7d0585e18&quot;,&quot;parentUUID&quot;:&quot;7ecc27c4-dbb2-48c4-a3c9-10d6695a8165&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b9912c5e-2d6d-4675-86e0-5f365988abe0&quot;,&quot;0ed5f125-6e52-42db-aa0f-ec764f77ae4f&quot;,&quot;4cf1fdf9-3b21-4bd1-a392-e98588543157&quot;,&quot;692e1ab0-40ea-4634-a60e-20d7d0585e18&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;ad980dff-c124-4fa7-9237-d945d405bdf9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;74ee1612-d5d3-447d-9dee-8c47657ae9c2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3d775829-097d-4a3a-8a03-49e1ef43f6e9&quot;,&quot;title&quot;:&quot;DecisionComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/decision.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/decision.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;79ccaae4-920e-4ee1-9095-94a2122ff1c5&quot;,&quot;title&quot;:&quot;decisionOutcome&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/decision.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/decision.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;NEGATIVE\&quot; if \&quot;negative\&quot; decision-outcome value passed in&quot;,&quot;fullTitle&quot;:&quot;DecisionComplaint decisionOutcome returns \&quot;NEGATIVE\&quot; if \&quot;negative\&quot; decision-outcome value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;decision-outcome&#x27;: &#x27;negative&#x27;\n}, complaintDetailsBase);\nconst decisionComplaint = new DecisionComplaint(values);\nexpect(decisionComplaint.complaintAttributes.complaint.complaintDetails.decisionOutcome).to.eql(&#x27;NEGATIVE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8558921a-8afe-4fd1-b0ee-242722700d85&quot;,&quot;parentUUID&quot;:&quot;79ccaae4-920e-4ee1-9095-94a2122ff1c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;POSITIVE\&quot; if \&quot;positive\&quot; decision-outcome value passed in&quot;,&quot;fullTitle&quot;:&quot;DecisionComplaint decisionOutcome returns \&quot;POSITIVE\&quot; if \&quot;positive\&quot; decision-outcome value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;decision-outcome&#x27;: &#x27;positive&#x27;\n}, complaintDetailsBase);\nconst decisionComplaint = new DecisionComplaint(values);\nexpect(decisionComplaint.complaintAttributes.complaint.complaintDetails.decisionOutcome).to.eql(&#x27;POSITIVE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8223780c-aee8-4de8-b7a1-def6836b0551&quot;,&quot;parentUUID&quot;:&quot;79ccaae4-920e-4ee1-9095-94a2122ff1c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid decision-outcome is passed&quot;,&quot;fullTitle&quot;:&quot;DecisionComplaint decisionOutcome throws an error if invalid decision-outcome is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;decision-outcome&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new DecisionComplaint(values)).to.throw(&#x27;invalid \&quot;decision-outcome\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;994ee8cf-a208-4742-bfa2-dc85c5d6ec56&quot;,&quot;parentUUID&quot;:&quot;79ccaae4-920e-4ee1-9095-94a2122ff1c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8558921a-8afe-4fd1-b0ee-242722700d85&quot;,&quot;8223780c-aee8-4de8-b7a1-def6836b0551&quot;,&quot;994ee8cf-a208-4742-bfa2-dc85c5d6ec56&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5588f8a8-5355-4d28-a606-96c507bbe2f9&quot;,&quot;title&quot;:&quot;DelaysComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/delays.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/delays.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;96920ff7-0ddb-48c1-85c3-ab7e55917571&quot;,&quot;title&quot;:&quot;delayedWaitingFor&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/delays.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/delays.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;APPLICATION_DELAY\&quot; if \&quot;application-delay\&quot; delay-type value passed in&quot;,&quot;fullTitle&quot;:&quot;DelaysComplaint delayedWaitingFor returns \&quot;APPLICATION_DELAY\&quot; if \&quot;application-delay\&quot; delay-type value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;delay-type&#x27;: &#x27;application-delay&#x27;\n}, complaintDetailsBase);\nconst delaysComplaint = new DelaysComplaint(values);\nexpect(\n  delaysComplaint.complaintAttributes.complaint.complaintDetails.delayedWaitingFor\n  ).to.eql(&#x27;APPLICATION_DELAY&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0146e052-e827-4332-9976-e45dceb4c9e3&quot;,&quot;parentUUID&quot;:&quot;96920ff7-0ddb-48c1-85c3-ab7e55917571&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;RETURN_OF_DOCUMENTS\&quot; if \&quot;return-of-documents\&quot; delay-type value passed in&quot;,&quot;fullTitle&quot;:&quot;DelaysComplaint delayedWaitingFor returns \&quot;RETURN_OF_DOCUMENTS\&quot; if \&quot;return-of-documents\&quot; delay-type value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;delay-type&#x27;: &#x27;return-of-documents&#x27;\n}, complaintDetailsBase);\nconst delaysComplaint = new DelaysComplaint(values);\nexpect(\n  delaysComplaint.complaintAttributes.complaint.complaintDetails.delayedWaitingFor\n  ).to.eql(&#x27;RETURN_OF_DOCUMENTS&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81474855-7783-4d15-a790-79b84a829860&quot;,&quot;parentUUID&quot;:&quot;96920ff7-0ddb-48c1-85c3-ab7e55917571&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid delay-type is passed&quot;,&quot;fullTitle&quot;:&quot;DelaysComplaint delayedWaitingFor throws an error if invalid delay-type is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;delay-type&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new DelaysComplaint(values)).to.throw(&#x27;invalid \&quot;delay-type\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;883c4989-efa1-49be-8385-599a9f33a0f7&quot;,&quot;parentUUID&quot;:&quot;96920ff7-0ddb-48c1-85c3-ab7e55917571&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0146e052-e827-4332-9976-e45dceb4c9e3&quot;,&quot;81474855-7783-4d15-a790-79b84a829860&quot;,&quot;883c4989-efa1-49be-8385-599a9f33a0f7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bb41fe36-0950-4bdf-bc80-9978413e3016&quot;,&quot;title&quot;:&quot;documentReturnRequest&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/delays.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/delays.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;YES_OTHER\&quot; if \&quot;yes-other\&quot; return-of-documents value passed in&quot;,&quot;fullTitle&quot;:&quot;DelaysComplaint documentReturnRequest returns \&quot;YES_OTHER\&quot; if \&quot;yes-other\&quot; return-of-documents value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;delay-type&#x27;: &#x27;return-of-documents&#x27;,\n  &#x27;return-of-documents&#x27;: &#x27;yes-other&#x27;\n}, complaintDetailsBase);\nconst delaysComplaint = new DelaysComplaint(values);\nexpect(\n  delaysComplaint.complaintAttributes.complaint.complaintDetails.documentReturnRequest\n  ).to.eql(&#x27;YES_OTHER&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4d1fb43-2db1-457f-9f74-426cde191396&quot;,&quot;parentUUID&quot;:&quot;bb41fe36-0950-4bdf-bc80-9978413e3016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;YES_DOCS_SERVICE\&quot; if \&quot;yes-docs-service\&quot; return-of-documents value passed in&quot;,&quot;fullTitle&quot;:&quot;DelaysComplaint documentReturnRequest returns \&quot;YES_DOCS_SERVICE\&quot; if \&quot;yes-docs-service\&quot; return-of-documents value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;delay-type&#x27;: &#x27;return-of-documents&#x27;,\n  &#x27;return-of-documents&#x27;: &#x27;yes-docs-service&#x27;\n}, complaintDetailsBase);\nconst delaysComplaint = new DelaysComplaint(values);\nexpect(\n  delaysComplaint.complaintAttributes.complaint.complaintDetails.documentReturnRequest\n  ).to.eql(&#x27;YES_DOCS_SERVICE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71b8688c-de1f-4264-a568-75733af3a8e7&quot;,&quot;parentUUID&quot;:&quot;bb41fe36-0950-4bdf-bc80-9978413e3016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;NO\&quot; if \&quot;yes-docs-service\&quot; return-of-documents value passed in&quot;,&quot;fullTitle&quot;:&quot;DelaysComplaint documentReturnRequest returns \&quot;NO\&quot; if \&quot;yes-docs-service\&quot; return-of-documents value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;delay-type&#x27;: &#x27;return-of-documents&#x27;,\n  &#x27;return-of-documents&#x27;: &#x27;no&#x27;\n}, complaintDetailsBase);\nconst delaysComplaint = new DelaysComplaint(values);\nexpect(\n  delaysComplaint.complaintAttributes.complaint.complaintDetails.documentReturnRequest\n  ).to.eql(&#x27;NO&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91d0dc62-fc38-4acd-9086-5984700d95cc&quot;,&quot;parentUUID&quot;:&quot;bb41fe36-0950-4bdf-bc80-9978413e3016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid return-of-documents is passed&quot;,&quot;fullTitle&quot;:&quot;DelaysComplaint documentReturnRequest throws an error if invalid return-of-documents is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;delay-type&#x27;: &#x27;return-of-documents&#x27;,\n  &#x27;return-of-documents&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new DelaysComplaint(values)).to.throw(&#x27;invalid \&quot;return-of-documents\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9382360-3e75-4025-8191-0e91b4e0d917&quot;,&quot;parentUUID&quot;:&quot;bb41fe36-0950-4bdf-bc80-9978413e3016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a4d1fb43-2db1-457f-9f74-426cde191396&quot;,&quot;71b8688c-de1f-4264-a568-75733af3a8e7&quot;,&quot;91d0dc62-fc38-4acd-9086-5984700d95cc&quot;,&quot;e9382360-3e75-4025-8191-0e91b4e0d917&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;98682a4a-0ce9-4acc-9433-4105c9c22faa&quot;,&quot;title&quot;:&quot;ExistingComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/existing.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/existing.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a363af39-9885-410f-8374-e9f04523098a&quot;,&quot;title&quot;:&quot;previousComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/existing.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/existing.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns complaint reference number if \&quot;yes\&quot; existing-complaint value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint returns complaint reference number if \&quot;yes\&quot; existing-complaint value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const refNumber = &#x27;23456789o0p9&#x27;;\nconst values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;yes&#x27;,\n  &#x27;complaint-reference-number&#x27;: refNumber\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.complaintReferenceNumber\n  ).to.eql(refNumber);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f1c66cf-002c-40a0-ae94-09996d779712&quot;,&quot;parentUUID&quot;:&quot;a363af39-9885-410f-8374-e9f04523098a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid existing-complaint value is passed&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint throws an error if invalid existing-complaint value is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new ExistingComplaint(values)).to.throw(&#x27;invalid \&quot;existing-complaint\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d017b78-d45b-45d8-b6ce-5858f9df4b42&quot;,&quot;parentUUID&quot;:&quot;a363af39-9885-410f-8374-e9f04523098a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;title&quot;:&quot;previousComplaintType&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/existing.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/existing.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;SUBMITTING_APPLICATION\&quot; if \&quot;immigration-application\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;SUBMITTING_APPLICATION\&quot; if \&quot;immigration-application\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;immigration-application&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;SUBMITTING_APPLICATION&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;addfe173-5926-44ee-b6c6-fa034329643f&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;MAKING_APPOINTMENT\&quot; if \&quot;immigration-appointment\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;MAKING_APPOINTMENT\&quot; if \&quot;immigration-appointment\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;immigration-appointment&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;MAKING_APPOINTMENT&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e42f1e28-d976-4be5-a37c-a8516f15e69c&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;DELAYS\&quot; if \&quot;delays\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;DELAYS\&quot; if \&quot;delays\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;delays&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;DELAYS&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cca92846-50e5-4329-8fc4-7fb4a54bfb73&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;BIOMETRIC_RESIDENCE_PERMIT\&quot; if \&quot;biometric-residence-permit\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;BIOMETRIC_RESIDENCE_PERMIT\&quot; if \&quot;biometric-residence-permit\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;biometric-residence-permit&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;BIOMETRIC_RESIDENCE_PERMIT&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbe6ccfa-ec7a-450c-a5cd-141875af723c&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;IMMIGRATION_DECISION\&quot; if \&quot;immigration-decision\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;IMMIGRATION_DECISION\&quot; if \&quot;immigration-decision\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;immigration-decision&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;IMMIGRATION_DECISION&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6eefe118-bc9c-42c6-b484-47872c5866fa&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;IMMIGRATION_STATUS_CHANGE\&quot; if \&quot;immigration-status-change\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;IMMIGRATION_STATUS_CHANGE\&quot; if \&quot;immigration-status-change\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;immigration-status-change&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;IMMIGRATION_STATUS_CHANGE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e4279cc-e7bf-4484-9308-b64b660c2dc4&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;REFUND\&quot; if \&quot;refund\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;REFUND\&quot; if \&quot;refund\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;refund&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;REFUND&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fb10f9f-258f-400e-8c40-e4544eda1b60&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;POOR_INFORMATION_OR_STAFF_BEHAVIOUR\&quot; if \&quot;staff-behaviour\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;POOR_INFORMATION_OR_STAFF_BEHAVIOUR\&quot; if \&quot;staff-behaviour\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;staff-behaviour&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;POOR_INFORMATION_OR_STAFF_BEHAVIOUR&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4fcb520-92c0-496f-8901-9e3928e60337&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;SOMETHING_ELSE\&quot; if \&quot;other-complaint\&quot; complaint-reason-previous value passed in&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType returns \&quot;SOMETHING_ELSE\&quot; if \&quot;other-complaint\&quot; complaint-reason-previous value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;other-complaint&#x27;\n}, complaintDetailsBase);\nconst existingComplaint = new ExistingComplaint(values);\nexpect(\n  existingComplaint.complaintAttributes.complaint.complaintDetails.previousComplaint.previousComplaintType\n  ).to.eql(&#x27;SOMETHING_ELSE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f94ffab4-9edd-4ed7-9eae-a56fa3b16a4f&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid complaint-reason-previous value is passed&quot;,&quot;fullTitle&quot;:&quot;ExistingComplaint previousComplaint previousComplaintType throws an error if invalid complaint-reason-previous value is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;existing-complaint&#x27;: &#x27;no&#x27;,\n  &#x27;complaint-reason-previous&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new ExistingComplaint(values)).to.throw(&#x27;invalid \&quot;complaint-reason-previous\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19d8a924-a359-4198-b9a4-f0f6d3c99216&quot;,&quot;parentUUID&quot;:&quot;77a781f0-f9ae-4f85-b349-4d94ef070cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;addfe173-5926-44ee-b6c6-fa034329643f&quot;,&quot;e42f1e28-d976-4be5-a37c-a8516f15e69c&quot;,&quot;cca92846-50e5-4329-8fc4-7fb4a54bfb73&quot;,&quot;bbe6ccfa-ec7a-450c-a5cd-141875af723c&quot;,&quot;6eefe118-bc9c-42c6-b484-47872c5866fa&quot;,&quot;0e4279cc-e7bf-4484-9308-b64b660c2dc4&quot;,&quot;6fb10f9f-258f-400e-8c40-e4544eda1b60&quot;,&quot;f4fcb520-92c0-496f-8901-9e3928e60337&quot;,&quot;f94ffab4-9edd-4ed7-9eae-a56fa3b16a4f&quot;,&quot;19d8a924-a359-4198-b9a4-f0f6d3c99216&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;2f1c66cf-002c-40a0-ae94-09996d779712&quot;,&quot;0d017b78-d45b-45d8-b6ce-5858f9df4b42&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ccf16ef9-0ccc-4867-9b7d-d265049d24f1&quot;,&quot;title&quot;:&quot;MakingAppointmentComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/making-appointment.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/making-appointment.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0d03933b-c295-44ff-b63f-562ec740744f&quot;,&quot;title&quot;:&quot;problemExperienced&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/making-appointment.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/making-appointment.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;LACK_AVAILABILITY\&quot; if \&quot;lack-availability\&quot; immigration-appointment value passed in&quot;,&quot;fullTitle&quot;:&quot;MakingAppointmentComplaint problemExperienced returns \&quot;LACK_AVAILABILITY\&quot; if \&quot;lack-availability\&quot; immigration-appointment value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-appointment&#x27;: &#x27;lack-availability&#x27;,\n}, complaintDetailsBase);\nconst makingAppointmentComplaint = new MakingAppointmentComplaint(values);\nexpect(\n  makingAppointmentComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced\n  ).to.eql(&#x27;LACK_AVAILABILITY&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7147c80a-5e7f-474f-acb4-7bd6c6f61ba0&quot;,&quot;parentUUID&quot;:&quot;0d03933b-c295-44ff-b63f-562ec740744f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;CHANGE_APPOINTMENT\&quot; if \&quot;change-appointment\&quot; immigration-appointment value passed in&quot;,&quot;fullTitle&quot;:&quot;MakingAppointmentComplaint problemExperienced returns \&quot;CHANGE_APPOINTMENT\&quot; if \&quot;change-appointment\&quot; immigration-appointment value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-appointment&#x27;: &#x27;change-appointment&#x27;,\n}, complaintDetailsBase);\nconst makingAppointmentComplaint = new MakingAppointmentComplaint(values);\nexpect(\n  makingAppointmentComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced\n  ).to.eql(&#x27;CHANGE_APPOINTMENT&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;155a6d9c-8bc6-4a5b-90c7-489558166459&quot;,&quot;parentUUID&quot;:&quot;0d03933b-c295-44ff-b63f-562ec740744f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;TECHNICAL_APPOINTMENTS\&quot; if \&quot;technical-appointments\&quot; immigration-appointment value passed in&quot;,&quot;fullTitle&quot;:&quot;MakingAppointmentComplaint problemExperienced returns \&quot;TECHNICAL_APPOINTMENTS\&quot; if \&quot;technical-appointments\&quot; immigration-appointment value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-appointment&#x27;: &#x27;technical-appointments&#x27;,\n}, complaintDetailsBase);\nconst makingAppointmentComplaint = new MakingAppointmentComplaint(values);\nexpect(\n  makingAppointmentComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced\n  ).to.eql(&#x27;TECHNICAL_APPOINTMENTS&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4216690b-f094-46cc-aef4-3861cb4acd8a&quot;,&quot;parentUUID&quot;:&quot;0d03933b-c295-44ff-b63f-562ec740744f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;QUESTIONS_APPOINTMENTS\&quot; if \&quot;questions-appointments\&quot; immigration-appointment value passed in&quot;,&quot;fullTitle&quot;:&quot;MakingAppointmentComplaint problemExperienced returns \&quot;QUESTIONS_APPOINTMENTS\&quot; if \&quot;questions-appointments\&quot; immigration-appointment value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-appointment&#x27;: &#x27;questions-appointments&#x27;,\n}, complaintDetailsBase);\nconst makingAppointmentComplaint = new MakingAppointmentComplaint(values);\nexpect(\n  makingAppointmentComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced\n  ).to.eql(&#x27;QUESTIONS_APPOINTMENTS&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;177d41b3-f2ef-4305-8c53-860b769a74b6&quot;,&quot;parentUUID&quot;:&quot;0d03933b-c295-44ff-b63f-562ec740744f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;COMPLAIN_APPOINTMENTS\&quot; if \&quot;complain-appointments\&quot; immigration-appointment value passed in&quot;,&quot;fullTitle&quot;:&quot;MakingAppointmentComplaint problemExperienced returns \&quot;COMPLAIN_APPOINTMENTS\&quot; if \&quot;complain-appointments\&quot; immigration-appointment value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-appointment&#x27;: &#x27;complain-appointments&#x27;,\n}, complaintDetailsBase);\nconst makingAppointmentComplaint = new MakingAppointmentComplaint(values);\nexpect(\n  makingAppointmentComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced\n  ).to.eql(&#x27;COMPLAIN_APPOINTMENTS&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;225199e3-afed-455b-b25a-f065a0553058&quot;,&quot;parentUUID&quot;:&quot;0d03933b-c295-44ff-b63f-562ec740744f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid immigration-appointment is passed&quot;,&quot;fullTitle&quot;:&quot;MakingAppointmentComplaint problemExperienced throws an error if invalid immigration-appointment is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-appointment&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new MakingAppointmentComplaint(values)).to.throw(&#x27;invalid \&quot;immigration-appointment\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3262a4e9-287c-4933-acd8-7f289c5e2bf3&quot;,&quot;parentUUID&quot;:&quot;0d03933b-c295-44ff-b63f-562ec740744f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7147c80a-5e7f-474f-acb4-7bd6c6f61ba0&quot;,&quot;155a6d9c-8bc6-4a5b-90c7-489558166459&quot;,&quot;4216690b-f094-46cc-aef4-3861cb4acd8a&quot;,&quot;177d41b3-f2ef-4305-8c53-860b769a74b6&quot;,&quot;225199e3-afed-455b-b25a-f065a0553058&quot;,&quot;3262a4e9-287c-4933-acd8-7f289c5e2bf3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9824339d-20a4-40ab-aeaa-031fd839911f&quot;,&quot;title&quot;:&quot;RefundComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/refund.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/refund.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c6b7761b-20b6-497f-b601-b9b5f64f0c3f&quot;,&quot;title&quot;:&quot;refundRequested&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/refund.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/refund.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;NO\&quot; if \&quot;no\&quot; refund value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundRequested returns \&quot;NO\&quot; if \&quot;no\&quot; refund value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;no&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundRequested\n  ).to.eql(&#x27;NO&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31f8979e-9353-432b-88b7-ee2acee2edde&quot;,&quot;parentUUID&quot;:&quot;c6b7761b-20b6-497f-b601-b9b5f64f0c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;YES\&quot; if \&quot;yes\&quot; refund value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundRequested returns \&quot;YES\&quot; if \&quot;yes\&quot; refund value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;yes&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundRequested\n  ).to.eql(&#x27;YES&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;836cfd1c-83b0-4cda-845d-383e81b20a73&quot;,&quot;parentUUID&quot;:&quot;c6b7761b-20b6-497f-b601-b9b5f64f0c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;NOT_YET\&quot; if \&quot;not-yet\&quot; refund value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundRequested returns \&quot;NOT_YET\&quot; if \&quot;not-yet\&quot; refund value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;not-yet&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundRequested\n  ).to.eql(&#x27;NOT_YET&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0dcbebba-5ae9-4687-87ed-36947c11c521&quot;,&quot;parentUUID&quot;:&quot;c6b7761b-20b6-497f-b601-b9b5f64f0c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid refund value is passed&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundRequested throws an error if invalid refund value is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new RefundComplaint(values)).to.throw(&#x27;invalid \&quot;refund\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1e01085-29ee-4ba2-9a5c-2545ca94fffb&quot;,&quot;parentUUID&quot;:&quot;c6b7761b-20b6-497f-b601-b9b5f64f0c3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;31f8979e-9353-432b-88b7-ee2acee2edde&quot;,&quot;836cfd1c-83b0-4cda-845d-383e81b20a73&quot;,&quot;0dcbebba-5ae9-4687-87ed-36947c11c521&quot;,&quot;a1e01085-29ee-4ba2-9a5c-2545ca94fffb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fbb4e1f6-0f27-4ec5-b80c-adc5bf906462&quot;,&quot;title&quot;:&quot;refundType&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/refund.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/refund.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;STANDARD\&quot; if \&quot;standard\&quot; refund-type value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundType returns \&quot;STANDARD\&quot; if \&quot;standard\&quot; refund-type value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;yes&#x27;,\n  &#x27;refund-type&#x27;: &#x27;standard&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundType\n  ).to.eql(&#x27;STANDARD&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e77b6ccd-b130-4be9-94a9-f79513871128&quot;,&quot;parentUUID&quot;:&quot;fbb4e1f6-0f27-4ec5-b80c-adc5bf906462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;PRIORITY\&quot; if \&quot;priority\&quot; refund-type value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundType returns \&quot;PRIORITY\&quot; if \&quot;priority\&quot; refund-type value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;yes&#x27;,\n  &#x27;refund-type&#x27;: &#x27;priority&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundType\n  ).to.eql(&#x27;PRIORITY&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b6925cd-a286-43a5-aa55-a29bcf84a898&quot;,&quot;parentUUID&quot;:&quot;fbb4e1f6-0f27-4ec5-b80c-adc5bf906462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;SUPER_PRIORITY\&quot; if \&quot;super-priority\&quot; refund-type value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundType returns \&quot;SUPER_PRIORITY\&quot; if \&quot;super-priority\&quot; refund-type value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;yes&#x27;,\n  &#x27;refund-type&#x27;: &#x27;super-priority&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundType\n  ).to.eql(&#x27;SUPER_PRIORITY&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cf20468-1d11-4910-9280-a3913306d0a4&quot;,&quot;parentUUID&quot;:&quot;fbb4e1f6-0f27-4ec5-b80c-adc5bf906462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;PREMIUM\&quot; if \&quot;premium\&quot; refund-type value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundType returns \&quot;PREMIUM\&quot; if \&quot;premium\&quot; refund-type value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;yes&#x27;,\n  &#x27;refund-type&#x27;: &#x27;premium&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundType\n  ).to.eql(&#x27;PREMIUM&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c60f52f-8b0c-4acc-9a68-85f9b1055eb9&quot;,&quot;parentUUID&quot;:&quot;fbb4e1f6-0f27-4ec5-b80c-adc5bf906462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;IHS\&quot; if \&quot;ihs\&quot; refund-type value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundType returns \&quot;IHS\&quot; if \&quot;ihs\&quot; refund-type value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;yes&#x27;,\n  &#x27;refund-type&#x27;: &#x27;ihs&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundType\n  ).to.eql(&#x27;IHS&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82cca6c1-6c2f-4dd3-8400-4adf5051a132&quot;,&quot;parentUUID&quot;:&quot;fbb4e1f6-0f27-4ec5-b80c-adc5bf906462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;EU_SETTLEMENT\&quot; if \&quot;eu-settlement\&quot; refund-type value passed in&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundType returns \&quot;EU_SETTLEMENT\&quot; if \&quot;eu-settlement\&quot; refund-type value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;yes&#x27;,\n  &#x27;refund-type&#x27;: &#x27;eu-settlement&#x27;,\n}, complaintDetailsBase);\nconst refundComplaint = new RefundComplaint(values);\nexpect(\n  refundComplaint.complaintAttributes.complaint.complaintDetails.refundType\n  ).to.eql(&#x27;EU_SETTLEMENT&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1003421-1b10-4c5b-951e-4312d982b89b&quot;,&quot;parentUUID&quot;:&quot;fbb4e1f6-0f27-4ec5-b80c-adc5bf906462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid refund-type is passed&quot;,&quot;fullTitle&quot;:&quot;RefundComplaint refundType throws an error if invalid refund-type is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;refund&#x27;: &#x27;yes&#x27;,\n  &#x27;refund-type&#x27;: &#x27;invalid&#x27;\n}, complaintDetailsBase);\nexpect(() =&gt; new RefundComplaint(values)).to.throw(&#x27;invalid \&quot;refund-type\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf811d7d-75f5-478e-ba5e-1fb2d420a56a&quot;,&quot;parentUUID&quot;:&quot;fbb4e1f6-0f27-4ec5-b80c-adc5bf906462&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e77b6ccd-b130-4be9-94a9-f79513871128&quot;,&quot;5b6925cd-a286-43a5-aa55-a29bcf84a898&quot;,&quot;8cf20468-1d11-4910-9280-a3913306d0a4&quot;,&quot;7c60f52f-8b0c-4acc-9a68-85f9b1055eb9&quot;,&quot;82cca6c1-6c2f-4dd3-8400-4adf5051a132&quot;,&quot;e1003421-1b10-4c5b-951e-4312d982b89b&quot;,&quot;bf811d7d-75f5-478e-ba5e-1fb2d420a56a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bbe0ac61-c4ca-4c88-9996-079d3096b5dd&quot;,&quot;title&quot;:&quot;StaffBehaviourComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;dc592b65-ed97-45d3-9bdc-28357151ffd4&quot;,&quot;title&quot;:&quot;experience&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;throws an error if invalid staff-behaviour is passed&quot;,&quot;fullTitle&quot;:&quot;StaffBehaviourComplaint experience throws an error if invalid staff-behaviour is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;staff-behaviour&#x27;: &#x27;invalid&#x27;,\n}, complaintDetailsBase);\nexpect(() =&gt; new StaffBehaviourComplaint(values)).to.throw(&#x27;invalid \&quot;staff-behaviour\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07ed1fde-6462-4972-baed-faed0334bc77&quot;,&quot;parentUUID&quot;:&quot;dc592b65-ed97-45d3-9bdc-28357151ffd4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;33a6876b-06a2-46b9-9441-a292267db650&quot;,&quot;title&quot;:&quot;face-to-face&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1545da28-fbdd-435a-857c-fa3e9c5f4e1a&quot;,&quot;title&quot;:&quot;which-centre&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns vac location information if \&quot;vac\&quot; which-centre value passed in&quot;,&quot;fullTitle&quot;:&quot;StaffBehaviourComplaint experience face-to-face which-centre returns vac location information if \&quot;vac\&quot; which-centre value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const country = &#x27;Ukraine&#x27;;\nconst city = &#x27;Kiev&#x27;;\nconst values = Object.assign({\n  &#x27;staff-behaviour&#x27;: &#x27;face-to-face&#x27;,\n  &#x27;which-centre&#x27;: &#x27;vac&#x27;,\n  &#x27;vac-country&#x27;: country,\n  &#x27;vac-city&#x27;: city,\n}, complaintDetailsBase);\nconst staffBehaviourComplaint = new StaffBehaviourComplaint(values);\nexpect(\n  staffBehaviourComplaint.complaintAttributes.complaint.complaintDetails.experience\n  ).to.eql({\n    experienceType: &#x27;FACE_TO_FACE&#x27;,\n    location: {\n      country,\n      city,\n      centreType: &#x27;VAC&#x27;\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7abad88-a1d8-4132-8f0e-9a02ea48cc23&quot;,&quot;parentUUID&quot;:&quot;1545da28-fbdd-435a-857c-fa3e9c5f4e1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns ssc location information if \&quot;ssc\&quot; which-centre value passed in&quot;,&quot;fullTitle&quot;:&quot;StaffBehaviourComplaint experience face-to-face which-centre returns ssc location information if \&quot;ssc\&quot; which-centre value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const city = &#x27;Birmingham&#x27;;\nconst values = Object.assign({\n  &#x27;staff-behaviour&#x27;: &#x27;face-to-face&#x27;,\n  &#x27;which-centre&#x27;: &#x27;ssc&#x27;,\n  &#x27;ssc-city&#x27;: city,\n}, complaintDetailsBase);\nconst staffBehaviourComplaint = new StaffBehaviourComplaint(values);\nexpect(\n  staffBehaviourComplaint.complaintAttributes.complaint.complaintDetails.experience\n  ).to.eql({\n    experienceType: &#x27;FACE_TO_FACE&#x27;,\n    location: {\n      city,\n      centreType: &#x27;SSC&#x27;\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8316182f-e117-46da-9ede-b3a32aab99e4&quot;,&quot;parentUUID&quot;:&quot;1545da28-fbdd-435a-857c-fa3e9c5f4e1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns ukvcas location information if \&quot;ukvcas\&quot; which-centre value passed in&quot;,&quot;fullTitle&quot;:&quot;StaffBehaviourComplaint experience face-to-face which-centre returns ukvcas location information if \&quot;ukvcas\&quot; which-centre value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const city = &#x27;Birmingham&#x27;;\nconst values = Object.assign({\n  &#x27;staff-behaviour&#x27;: &#x27;face-to-face&#x27;,\n  &#x27;which-centre&#x27;: &#x27;ukvcas&#x27;,\n  &#x27;ukvcas-city&#x27;: city,\n}, complaintDetailsBase);\nconst staffBehaviourComplaint = new StaffBehaviourComplaint(values);\nexpect(\n  staffBehaviourComplaint.complaintAttributes.complaint.complaintDetails.experience\n  ).to.eql({\n    experienceType: &#x27;FACE_TO_FACE&#x27;,\n    location: {\n      city,\n      centreType: &#x27;UKVCAS&#x27;\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac54e262-cf66-45cd-b018-b171ffa97417&quot;,&quot;parentUUID&quot;:&quot;1545da28-fbdd-435a-857c-fa3e9c5f4e1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid which-centre is passed&quot;,&quot;fullTitle&quot;:&quot;StaffBehaviourComplaint experience face-to-face which-centre throws an error if invalid which-centre is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;staff-behaviour&#x27;: &#x27;face-to-face&#x27;,\n  &#x27;which-centre&#x27;: &#x27;invalid&#x27;,\n}, complaintDetailsBase);\nexpect(() =&gt; new StaffBehaviourComplaint(values)).to.throw(&#x27;invalid \&quot;which-centre\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3fae3d2-bcd6-4646-ada5-7f6d86777bbe&quot;,&quot;parentUUID&quot;:&quot;1545da28-fbdd-435a-857c-fa3e9c5f4e1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a7abad88-a1d8-4132-8f0e-9a02ea48cc23&quot;,&quot;8316182f-e117-46da-9ede-b3a32aab99e4&quot;,&quot;ac54e262-cf66-45cd-b018-b171ffa97417&quot;,&quot;d3fae3d2-bcd6-4646-ada5-7f6d86777bbe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;be5971f0-049a-4fec-8829-baea92975496&quot;,&quot;title&quot;:&quot;on-phone&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns callDetails information&quot;,&quot;fullTitle&quot;:&quot;StaffBehaviourComplaint experience on-phone returns callDetails information&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const phoneNumber = &#x27;23456789099&#x27;;\nconst date = &#x27;June 12th 2020&#x27;;\nconst time = &#x27;10:30am&#x27;;\nconst calledFrom = &#x27;2345678908&#x27;;\nconst values = Object.assign({\n  &#x27;staff-behaviour&#x27;: &#x27;on-phone&#x27;,\n  &#x27;called-number&#x27;: phoneNumber,\n  &#x27;called-date&#x27;: date,\n  &#x27;called-time&#x27;: time,\n  &#x27;called-from&#x27;: calledFrom,\n}, complaintDetailsBase);\nconst staffBehaviourComplaint = new StaffBehaviourComplaint(values);\nexpect(\n  staffBehaviourComplaint.complaintAttributes.complaint.complaintDetails.experience\n  ).to.eql({\n    experienceType: &#x27;PHONE&#x27;,\n    callDetails: {\n      numberCalled: phoneNumber,\n      date,\n      time,\n      calledFrom: calledFrom\n    }\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcef230e-dd8e-4f45-81c8-38a02f9b330d&quot;,&quot;parentUUID&quot;:&quot;be5971f0-049a-4fec-8829-baea92975496&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fcef230e-dd8e-4f45-81c8-38a02f9b330d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1f717825-1d41-44c0-bffb-8bad43da9421&quot;,&quot;title&quot;:&quot;in-letter&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/staff-behaviour.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns experienceType \&quot;LETTER_OR_EMAIL\&quot;&quot;,&quot;fullTitle&quot;:&quot;StaffBehaviourComplaint experience in-letter returns experienceType \&quot;LETTER_OR_EMAIL\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;staff-behaviour&#x27;: &#x27;in-letter&#x27;,\n}, complaintDetailsBase);\nconst staffBehaviourComplaint = new StaffBehaviourComplaint(values);\nexpect(staffBehaviourComplaint.complaintAttributes.complaint.complaintDetails.experience.experienceType\n  ).to.eql(&#x27;LETTER_OR_EMAIL&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e506e389-7228-4266-8ea7-f85ed5076a2f&quot;,&quot;parentUUID&quot;:&quot;1f717825-1d41-44c0-bffb-8bad43da9421&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e506e389-7228-4266-8ea7-f85ed5076a2f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;07ed1fde-6462-4972-baed-faed0334bc77&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;298463c0-cf18-495f-930a-997b0894b20b&quot;,&quot;title&quot;:&quot;SubmittingApplicationComplaint&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/submitting-application.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/submitting-application.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;227a4b29-15a8-4616-b784-46e83f96cb02&quot;,&quot;title&quot;:&quot;problemExperienced&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/json-converters/submitting-application.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/json-converters/submitting-application.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns \&quot;TECHNICAL_ISSUES\&quot; if \&quot;technical-issues\&quot; immigration-application value passed in&quot;,&quot;fullTitle&quot;:&quot;SubmittingApplicationComplaint problemExperienced returns \&quot;TECHNICAL_ISSUES\&quot; if \&quot;technical-issues\&quot; immigration-application value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-application&#x27;: &#x27;technical-issues&#x27;,\n}, complaintDetailsBase);\nconst submittingApplicationComplaint = new SubmittingApplicationComplaint(values);\nexpect(\n  submittingApplicationComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced\n  ).to.eql(&#x27;TECHNICAL_ISSUES&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;949efe7f-3f16-4ce1-8a46-d85924faee38&quot;,&quot;parentUUID&quot;:&quot;227a4b29-15a8-4616-b784-46e83f96cb02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;GUIDANCE\&quot; if \&quot;guidance\&quot; immigration-application value passed in&quot;,&quot;fullTitle&quot;:&quot;SubmittingApplicationComplaint problemExperienced returns \&quot;GUIDANCE\&quot; if \&quot;guidance\&quot; immigration-application value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-application&#x27;: &#x27;guidance&#x27;,\n}, complaintDetailsBase);\nconst submittingApplicationComplaint = new SubmittingApplicationComplaint(values);\nexpect(\n  submittingApplicationComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced\n  ).to.eql(&#x27;GUIDANCE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74facf25-7576-4dd5-84a4-70957c92617a&quot;,&quot;parentUUID&quot;:&quot;227a4b29-15a8-4616-b784-46e83f96cb02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns \&quot;SOMETHING_ELSE\&quot; if \&quot;complain\&quot; immigration-application value passed in&quot;,&quot;fullTitle&quot;:&quot;SubmittingApplicationComplaint problemExperienced returns \&quot;SOMETHING_ELSE\&quot; if \&quot;complain\&quot; immigration-application value passed in&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-application&#x27;: &#x27;complain&#x27;,\n}, complaintDetailsBase);\nconst submittingApplicationComplaint = new SubmittingApplicationComplaint(values);\nexpect(\n  submittingApplicationComplaint.complaintAttributes.complaint.complaintDetails.problemExperienced\n  ).to.eql(&#x27;SOMETHING_ELSE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a79465e9-d360-420c-9074-987c14172aba&quot;,&quot;parentUUID&quot;:&quot;227a4b29-15a8-4616-b784-46e83f96cb02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if invalid immigration-application is passed&quot;,&quot;fullTitle&quot;:&quot;SubmittingApplicationComplaint problemExperienced throws an error if invalid immigration-application is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const values = Object.assign({\n  &#x27;immigration-application&#x27;: &#x27;invalid&#x27;,\n}, complaintDetailsBase);\nexpect(() =&gt; new SubmittingApplicationComplaint(values)).to.throw(&#x27;invalid \&quot;immigration-application\&quot; value&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92e4115c-a61e-41b8-9541-77aa9db96734&quot;,&quot;parentUUID&quot;:&quot;227a4b29-15a8-4616-b784-46e83f96cb02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;949efe7f-3f16-4ce1-8a46-d85924faee38&quot;,&quot;74facf25-7576-4dd5-84a4-70957c92617a&quot;,&quot;a79465e9-d360-420c-9074-987c14172aba&quot;,&quot;92e4115c-a61e-41b8-9541-77aa9db96734&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;75f6e35b-f7c7-4a1f-85b3-9be28a335023&quot;,&quot;title&quot;:&quot;utils&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/utils.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/utils.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;utils\&quot;&quot;,&quot;fullTitle&quot;:&quot;utils \&quot;before each\&quot; hook in \&quot;utils\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;uuidStub = sinon.stub().returns(testUuid);\nsendStub = sinon.stub().resolves();\nsendStub.withArgs({\n  id: testUuid,\n  body: JSON.stringify(invalidComplaintData)\n}).rejects();\ncreateSub = sinon.stub().returns({\n  send: sendStub\n});\nutils = proxyquire(&#x27;../../../apps/ukvi-complaints/lib/utils&#x27;, {\n  &#x27;sqs-producer&#x27;: {\n    Producer: {\n      create: createSub\n    }\n  },\n  &#x27;uuid&#x27;: {\n    v4: uuidStub\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;743ffac5-86b3-4779-9850-b91c648bd21c&quot;,&quot;parentUUID&quot;:&quot;75f6e35b-f7c7-4a1f-85b3-9be28a335023&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;utils\&quot;&quot;,&quot;fullTitle&quot;:&quot;utils \&quot;after each\&quot; hook in \&quot;utils\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cde2162-17f5-4448-ad37-9d1bf49ab70d&quot;,&quot;parentUUID&quot;:&quot;75f6e35b-f7c7-4a1f-85b3-9be28a335023&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;06fb2d89-6ece-41b7-8b8f-d98cb228772f&quot;,&quot;title&quot;:&quot;#validateAgainstSchema&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/utils.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/utils.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns true if the complaintData object fits the schema&quot;,&quot;fullTitle&quot;:&quot;utils #validateAgainstSchema returns true if the complaintData object fits the schema&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(utils.validateAgainstSchema(validComplaintData)).to.eql(true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52e8fbf5-2797-47ac-b358-b13b3176d612&quot;,&quot;parentUUID&quot;:&quot;06fb2d89-6ece-41b7-8b8f-d98cb228772f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;throws an error if the complaintData object does not fit the schema&quot;,&quot;fullTitle&quot;:&quot;utils #validateAgainstSchema throws an error if the complaintData object does not fit the schema&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(() =&gt; utils.validateAgainstSchema(invalidComplaintData)).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;076e8c98-16c8-4862-8e62-45efdae3b052&quot;,&quot;parentUUID&quot;:&quot;06fb2d89-6ece-41b7-8b8f-d98cb228772f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;52e8fbf5-2797-47ac-b358-b13b3176d612&quot;,&quot;076e8c98-16c8-4862-8e62-45efdae3b052&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;78aac8c7-7b0a-4e3c-af3e-d928ad15f913&quot;,&quot;title&quot;:&quot;#sendToQueue&quot;,&quot;fullFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/unit/lib/utils.spec.js&quot;,&quot;file&quot;:&quot;/test/unit/lib/utils.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;calls create on the sqs producer with SQS parameters&quot;,&quot;fullTitle&quot;:&quot;utils #sendToQueue calls create on the sqs producer with SQS parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;utils.sendToQueue(validComplaintData);\nexpect(createSub).to.have.been.calledOnceWith({\n  queueUrl: &#x27;http://localhost:4566/000000000000/local-queue&#x27;,\n  region: &#x27;eu-west-2&#x27;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8325eb4b-4322-4892-9e80-b9f79f4ecffa&quot;,&quot;parentUUID&quot;:&quot;78aac8c7-7b0a-4e3c-af3e-d928ad15f913&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;calls send on sqs producer with a unique id and stringifyed complaint data&quot;,&quot;fullTitle&quot;:&quot;utils #sendToQueue calls send on sqs producer with a unique id and stringifyed complaint data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;utils.sendToQueue(validComplaintData);\nexpect(sendStub).to.have.been.calledOnceWith(\n  [\n    {\n      id: testUuid,\n      body: JSON.stringify(validComplaintData)\n    }\n  ]\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d706506-f875-4057-8e1e-37d33922c547&quot;,&quot;parentUUID&quot;:&quot;78aac8c7-7b0a-4e3c-af3e-d928ad15f913&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;rejects if send fails&quot;,&quot;fullTitle&quot;:&quot;utils #sendToQueue rejects if send fails&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// eslint-disable-next-line no-unused-expressions\nexpect(utils.sendToQueue(invalidComplaintData)).to.be.rejected;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d7476fc-87ca-4ab4-8fce-81a26d6139ad&quot;,&quot;parentUUID&quot;:&quot;78aac8c7-7b0a-4e3c-af3e-d928ad15f913&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8325eb4b-4322-4892-9e80-b9f79f4ecffa&quot;,&quot;3d706506-f875-4057-8e1e-37d33922c547&quot;,&quot;1d7476fc-87ca-4ab4-8fce-81a26d6139ad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.3.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;unit&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;none&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.2&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;id&quot;:&quot;default&quot;,&quot;consoleReporter&quot;:&quot;none&quot;,&quot;reportDir&quot;:&quot;test/executions/mochawesome&quot;,&quot;reportFilename&quot;:&quot;unit&quot;},&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;unit&quot;,&quot;reportDir&quot;:&quot;test/executions/mochawesome&quot;,&quot;reportTitle&quot;:&quot;ukvi-complaints&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test/executions/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/executions/mochawesome/unit.json&quot;,&quot;htmlFile&quot;:&quot;/Users/JosephCoker/Projects/Home-Office/HOF/ukvi-complaints/test/executions/mochawesome/unit.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>